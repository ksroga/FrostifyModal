class FrostModals{preparedSettings=[];lastModalId=0;show(){return document.body.appendChild(FrostModals.prepareModal(this.preparedSettings[this.lastModalId])),this}close(e=null,t=!0){e=e||this.preparedSettings[this.lastModalId].id;let o=!0,d=t&&void 0!==this.preparedSettings[e]&&this.preparedSettings[e].onCancel;return d&&!1===this.preparedSettings[e].onCancel()&&(o=!1),o&&document.querySelector(`.fmodal-wrapper[data-id="${e}"]`).remove(),this}submit(e=null){e=e||this.preparedSettings[this.lastModalId].id;let t=!0,o=void 0!==this.preparedSettings[e]&&this.preparedSettings[e].onOk;return o&&!1===this.preparedSettings[e].onOk()&&(t=!1),t&&document.querySelector(`.fmodal-wrapper[data-id="${e}"]`).remove(),this}set(e){return this.lastModalId++,this.preparedSettings[this.lastModalId]=this.#prepareModalSettings(e),this}static prepareModal(e){let t=document.createElement("div"),o=document.createElement("div"),d=document.createElement("div"),a=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),s=document.createElement("button"),r=document.createElement("button");return l.classList.add("fmodal-close"),l.onclick=()=>FrostModal.close(e.id,!1),l.innerText="X",d.classList.add("fmodal-header"),d.innerHTML=e.title,d.style.background=e.header.background||d.style.background,d.style.color=e.header.color||d.style.color,d.ondragover=e=>FrostModals.dragOver(e),e.closeButton&&d.appendChild(l),a.classList.add("fmodal-body"),a.innerHTML=e.content,s.classList.add("fmodal-button","fmodal-cancel"),s.onclick=()=>FrostModal.close(e.id),s.innerHTML="Cancel",r.classList.add("fmodal-button","fmodal-accept"),r.onclick=()=>FrostModal.submit(e.id),r.innerHTML="Okay",n.classList.add("fmodal-footer"),n.appendChild(s),n.appendChild(r),o.classList.add("fmodal-container"),o.appendChild(d),o.appendChild(a),o.appendChild(n),FrostModals.makeDraggable(o),t.classList.add("fmodal-wrapper"),t.dataset.id=e.id,t.appendChild(o),t}#prepareModalSettings(e){return{id:this.lastModalId,title:e.title||"",content:e.content||"",onOk:e.onOk||"",onCancel:e.onCancel||null,closeButton:e.closeButton||!0,header:{background:e.header?e.header.background:null,color:e.header?e.header.color:null}}}static makeDraggable(t){let o=0,d=0,a=0,n=0;function e(e){(e=e||window.event).preventDefault(),a=e.clientX,n=e.clientY,document.onmouseup=s,document.onmousemove=l}function l(e){(e=e||window.event).preventDefault(),o=a-e.clientX,d=n-e.clientY,a=e.clientX,n=e.clientY,t.style.top=t.offsetTop-d+"px",t.style.left=t.offsetLeft-o+"px",t.style.position="absolute",t.parentElement.style.display="block"}function s(){document.onmouseup=null,document.onmousemove=null}t.querySelector(".fmodal-header")?t.querySelector(".fmodal-header").onmousedown=e:t.onmousedown=e}}const FrostModal=new FrostModals;